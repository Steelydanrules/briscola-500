!function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=0)}([function(e,t,r){"use strict";function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}r.r(t);var n=function(){function e(t,r,a,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=a.getContext("2d"),this.game=n,this.team=t,this.currentHand=[],this.id=r,this.addCard=this.addCard.bind(this),this.promptMove=this.promptMove.bind(this),this.renderThrow=this.renderThrow.bind(this),this.positions={1:{rot:-90,one:-195,two:-295,three:-395,four:-495,five:-595,card1to5yPos:1040,thrownCardyPos:820},2:{rot:180,one:-445,two:-545,three:-645,four:-745,five:-845,card1to5yPos:-80,thrownCardyPos:-260},3:{rot:90,one:105,two:205,three:305,four:405,five:505,card1to5yPos:-160,thrownCardyPos:-380}}}var t,r,n;return t=e,(r=[{key:"renderThrow",value:function(e){var t=this,r=this.positions[this.id],a=new Image,n=new Image,s=new Image,i=new Image,o=new Image,c=new Image;c.src=this.currentHand[e].imageUrl,0!==this.currentHand.length&&0!==e?a.src="../images/card-back-rename.JPG":a.src="../images/no-card.png",this.currentHand.length>1&&1!==e?n.src="../images/card-back-rename.JPG":n.src="../images/no-card.png",this.currentHand.length>2&&2!==e?s.src="../images/card-back-rename.JPG":s.src="../images/no-card.png",this.currentHand.length>3&&3!==e?i.src="../images/card-back-rename.JPG":i.src="../images/no-card.png",this.currentHand.length>4&&4!==e?o.src="../images/card-back-rename.JPG":o.src="../images/no-card.png",setTimeout((function(){t.ctx.save(),t.ctx.rotate(r.rot*(Math.PI/180)),t.ctx.drawImage(a,r.one,r.card1to5yPos,90,160),t.ctx.drawImage(n,r.two,r.card1to5yPos,90,160),t.ctx.drawImage(s,r.three,r.card1to5yPos,90,160),t.ctx.drawImage(i,r.four,r.card1to5yPos,90,160),t.ctx.drawImage(o,r.five,r.card1to5yPos,90,160),t.ctx.drawImage(c,r.three,r.thrownCardyPos,90,160),t.ctx.restore()}),500)}},{key:"addCard",value:function(e){this.currentHand.length<5?(e.owner=this,e.team=this.team,this.currentHand.push(e)):console.log("cpu trying to draw again.  IDK WHY!")}},{key:"promptMove",value:function(){var e=this,t=Math.floor(Math.random()*this.currentHand.length),r=this.currentHand[t];return this.renderThrow(t),this.currentHand=this.currentHand.slice(0,t).concat(this.currentHand.slice(t+1,this.currentHand.length)),this.game.thrownCards.push(r),4===this.game.thrownCards.length?setTimeout((function(){return e.game.winningCardThrown(e.game)}),2500):this.game.nextThrow(),r}}])&&a(t.prototype,r),n&&a(t,n),e}();function s(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function(){function e(t,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=r.getContext("2d"),this.game=a,this.team=t,this.currentHand=[],this.id=0,this.possibleBriscs={DENARI:0,SPADE:0,COPPE:0,BASTONI:0},this.briscAvailable=this.briscAvailable.bind(this),this.addCard=this.addCard.bind(this),this.throwCard=this.throwCard.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.registerEventListeners=this.registerEventListeners.bind(this),this.removeEventListeners=this.removeEventListeners.bind(this),this.promptMove=this.promptMove.bind(this),this.renderThrow=this.renderThrow.bind(this),this.registerEventListeners(),this.renderBriscCards=this.renderBriscCards.bind(this),this.modifyBriscPoints=this.modifyBriscPoints.bind(this)}var t,r,a;return t=e,(r=[{key:"briscAvailable",value:function(){this.currentHand.length<3&&(this.possibleBriscs={DENARI:0,SPADE:0,COPPE:0,BASTONI:0})}},{key:"modifyBriscPoints",value:function(e){(3===e.points||4===e.points&&0!==this.possibleBriscs[e.suit])&&(this.possibleBriscs[e.suit]-=e.points)}},{key:"renderBriscCards",value:function(){var e=this,t=new Image;t.src="../images/no-card.png";var r=new Image;4===this.possibleBriscs.DENARI||7===this.possibleBriscs.DENARI?r.src="../images/KGold.png":r.src="../images/card-back-rename.JPG";var a=new Image;3===this.possibleBriscs.DENARI||7===this.possibleBriscs.DENARI?a.src="../images/QGold.png":a.src="../images/card-back-rename.JPG";var n=new Image;4===this.possibleBriscs.SPADE||7===this.possibleBriscs.SPADE?n.src="../images/KSwords.png":n.src="../images/card-back-rename.JPG";var s=new Image;3===this.possibleBriscs.SPADE||7===this.possibleBriscs.SPADE?s.src="../images/QSwords.png":s.src="../images/card-back-rename.JPG";var i=new Image;4===this.possibleBriscs.COPPE||7===this.possibleBriscs.COPPE?i.src="../images/KCups.png":i.src="../images/card-back-rename.JPG";var o=new Image;3===this.possibleBriscs.COPPE||7===this.possibleBriscs.COPPE?o.src="../images/QCups.png":o.src="../images/card-back-rename.JPG";var c=new Image;4===this.possibleBriscs.BASTONI||7===this.possibleBriscs.BASTONI?c.src="../images/KBats.png":c.src="../images/card-back-rename.JPG";var h=new Image;3===this.possibleBriscs.BASTONI||7===this.possibleBriscs.BASTONI?h.src="../images/QBats.png":h.src="../images/card-back-rename.JPG",setTimeout((function(){e.ctx.drawImage(t,855,600,350,185),e.ctx.drawImage(r,875,640,45,80),e.ctx.drawImage(a,900,690,45,80),e.ctx.drawImage(n,950,640,45,80),e.ctx.drawImage(s,975,690,45,80),e.ctx.drawImage(i,1025,640,45,80),e.ctx.drawImage(o,1050,690,45,80),e.ctx.drawImage(c,1100,640,45,80),e.ctx.drawImage(h,1125,690,45,80),e.ctx.font="24px Georgia",e.ctx.fillStyle="red",e.ctx.fillText("Call a brisc on your turn!!!!",900,630)}),250)}},{key:"addCard",value:function(e){this.currentHand.length<5?(3!==e.points&&4!==e.points||(this.possibleBriscs[e.suit]+=e.points),e.owner=this,e.faceUp=!0,e.team=this.team,this.currentHand.push(e)):console.log("human trying to draw again.  IDK WHY")}},{key:"renderThrow",value:function(e){var t=this,r=new Image,a=new Image,n=new Image,s=new Image,i=new Image,o=new Image;o.src=this.currentHand[e].imageUrl,0!==this.currentHand.length&&0!==e?r.src=this.currentHand[0].imageUrl:r.src="../images/no-card.png",this.currentHand.length>1&&1!==e?a.src=this.currentHand[1].imageUrl:a.src="../images/no-card.png",this.currentHand.length>2&&2!==e?n.src=this.currentHand[2].imageUrl:n.src="../images/no-card.png",this.currentHand.length>3&&3!==e?s.src=this.currentHand[3].imageUrl:s.src="../images/no-card.png",this.currentHand.length>4&&4!==e?i.src=this.currentHand[4].imageUrl:i.src="../images/no-card.png",setTimeout((function(){t.ctx.drawImage(r,355,620,90,160),t.ctx.drawImage(a,455,620,90,160),t.ctx.drawImage(n,555,620,90,160),t.ctx.drawImage(s,655,620,90,160),t.ctx.drawImage(i,755,620,90,160),t.ctx.drawImage(o,555,440,90,160)}),500)}},{key:"throwCard",value:function(e){var t=this,r=this.currentHand[e];return this.currentHand=this.currentHand.slice(0,e).concat(this.currentHand.slice(e+1,this.currentHand.length)),this.game.thrownCards.push(r),this.modifyBriscPoints(r),4===this.game.thrownCards.length&&setTimeout((function(){return t.game.winningCardThrown(t.game)}),2500),r}},{key:"handleMouseDown",value:function(e){var t=this;return e.preventDefault(),e.pageX>985&&e.pageX<1055&&e.pageY>722&&e.pageY<852&&7===this.possibleBriscs.DENARI&&(console.log("DENARI"),this.possibleBriscs.DENARI=0,this.game.callBrisc("DENARI",this),this.game.drawInitialBoard(),this.renderBriscCards()),e.pageX>1060&&e.pageX<1130&&e.pageY>722&&e.pageY<852&&7===this.possibleBriscs.SPADE&&(console.log("SPADE"),this.possibleBriscs.SPADE=0,this.game.callBrisc("SPADE",this),this.game.drawInitialBoard(),this.renderBriscCards()),e.pageX>1135&&e.pageX<1205&&e.pageY>722&&e.pageY<852&&7===this.possibleBriscs.COPPE&&(console.log("COPPE"),this.possibleBriscs.COPPE=0,this.game.callBrisc("COPPE",this),this.game.drawInitialBoard(),this.renderBriscCards()),e.pageX>1210&&e.pageX<1280&&e.pageY>722&&e.pageY<852&&7===this.possibleBriscs.BASTONI&&(console.log("BASTONI"),this.possibleBriscs.BASTONI=0,this.game.callBrisc("BASTONI",this),this.game.drawInitialBoard(),this.renderBriscCards()),e.pageX>465&&e.pageX<555&&e.pageY>700&&e.pageY<860&&this.currentHand.length>0?(this.renderThrow(0),this.removeEventListeners(),setTimeout((function(){return t.game.nextThrow()}),0),this.throwCard(0)):e.pageX>565&&e.pageX<655&&e.pageY>700&&e.pageY<860&&this.currentHand.length>1?(this.renderThrow(1),this.removeEventListeners(),setTimeout((function(){return t.game.nextThrow()}),0),this.throwCard(1)):e.pageX>665&&e.pageX<755&&e.pageY>700&&e.pageY<860&&this.currentHand.length>2?(this.renderThrow(2),this.removeEventListeners(),setTimeout((function(){return t.game.nextThrow()}),0),this.throwCard(2)):e.pageX>765&&e.pageX<855&&e.pageY>700&&e.pageY<860&&this.currentHand.length>3?(this.renderThrow(3),this.removeEventListeners(),setTimeout((function(){return t.game.nextThrow()}),0),this.throwCard(3)):e.pageX>865&&e.pageX<955&&e.pageY>700&&e.pageY<860&&this.currentHand.length>4?(this.renderThrow(4),this.removeEventListeners(),setTimeout((function(){return t.game.nextThrow()}),0),this.throwCard(4)):void 0}},{key:"registerEventListeners",value:function(){document.addEventListener("mousedown",this.handleMouseDown)}},{key:"removeEventListeners",value:function(){document.removeEventListener("mousedown",this.handleMouseDown)}},{key:"promptMove",value:function(){this.briscAvailable(),this.registerEventListeners()}}])&&s(t.prototype,r),a&&s(t,a),e}();function o(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cardsInDeck=[{suit:"DENARI",points:0,rank:1,faceUp:!1,owner:null,imageUrl:"../images/2Gold.png"},{suit:"DENARI",points:0,rank:2,faceUp:!1,owner:null,imageUrl:"../images/4Gold.png"},{suit:"DENARI",points:0,rank:3,faceUp:!1,owner:null,imageUrl:"../images/5Gold.png"},{suit:"DENARI",points:0,rank:4,faceUp:!1,owner:null,imageUrl:"../images/6Gold.png"},{suit:"DENARI",points:0,rank:5,faceUp:!1,owner:null,imageUrl:"../images/7Gold.png"},{suit:"DENARI",points:2,rank:6,faceUp:!1,owner:null,imageUrl:"../images/JGold.png"},{suit:"DENARI",points:3,rank:7,faceUp:!1,owner:null,imageUrl:"../images/QGold.png"},{suit:"DENARI",points:4,rank:8,faceUp:!1,owner:null,imageUrl:"../images/KGold.png"},{suit:"DENARI",points:10,rank:9,faceUp:!1,owner:null,imageUrl:"../images/3Gold.png"},{suit:"DENARI",points:11,rank:10,faceUp:!1,owner:null,imageUrl:"../images/AGold.png"},{suit:"SPADE",points:0,rank:1,faceUp:!1,owner:null,imageUrl:"../images/2Swords.png"},{suit:"SPADE",points:0,rank:2,faceUp:!1,owner:null,imageUrl:"../images/4Swords.png"},{suit:"SPADE",points:0,rank:3,faceUp:!1,owner:null,imageUrl:"../images/5Swords.png"},{suit:"SPADE",points:0,rank:4,faceUp:!1,owner:null,imageUrl:"../images/6Swords.png"},{suit:"SPADE",points:0,rank:5,faceUp:!1,owner:null,imageUrl:"../images/7Swords.png"},{suit:"SPADE",points:2,rank:6,faceUp:!1,owner:null,imageUrl:"../images/JSwords.png"},{suit:"SPADE",points:3,rank:7,faceUp:!1,owner:null,imageUrl:"../images/QSwords.png"},{suit:"SPADE",points:4,rank:8,faceUp:!1,owner:null,imageUrl:"../images/KSwords.png"},{suit:"SPADE",points:10,rank:9,faceUp:!1,owner:null,imageUrl:"../images/3Swords.png"},{suit:"SPADE",points:11,rank:10,faceUp:!1,owner:null,imageUrl:"../images/ASwords.png"},{suit:"COPPE",points:0,rank:1,faceUp:!1,owner:null,imageUrl:"../images/2Cups.png"},{suit:"COPPE",points:0,rank:2,faceUp:!1,owner:null,imageUrl:"../images/4Cups.png"},{suit:"COPPE",points:0,rank:3,faceUp:!1,owner:null,imageUrl:"../images/5Cups.png"},{suit:"COPPE",points:0,rank:4,faceUp:!1,owner:null,imageUrl:"../images/6Cups.png"},{suit:"COPPE",points:0,rank:5,faceUp:!1,owner:null,imageUrl:"../images/7Cups.png"},{suit:"COPPE",points:2,rank:6,faceUp:!1,owner:null,imageUrl:"../images/JCups.png"},{suit:"COPPE",points:3,rank:7,faceUp:!1,owner:null,imageUrl:"../images/QCups.png"},{suit:"COPPE",points:4,rank:8,faceUp:!1,owner:null,imageUrl:"../images/KCups.png"},{suit:"COPPE",points:10,rank:9,faceUp:!1,owner:null,imageUrl:"../images/3Cups.png"},{suit:"COPPE",points:11,rank:10,faceUp:!1,owner:null,imageUrl:"../images/ACups.png"},{suit:"BASTONI",points:0,rank:1,faceUp:!1,owner:null,imageUrl:"../images/2Bats.png"},{suit:"BASTONI",points:0,rank:2,faceUp:!1,owner:null,imageUrl:"../images/4Bats.png"},{suit:"BASTONI",points:0,rank:3,faceUp:!1,owner:null,imageUrl:"../images/5Bats.png"},{suit:"BASTONI",points:0,rank:4,faceUp:!1,owner:null,imageUrl:"../images/6Bats.png"},{suit:"BASTONI",points:0,rank:5,faceUp:!1,owner:null,imageUrl:"../images/7Bats.png"},{suit:"BASTONI",points:2,rank:6,faceUp:!1,owner:null,imageUrl:"../images/JBats.png"},{suit:"BASTONI",points:3,rank:7,faceUp:!1,owner:null,imageUrl:"../images/QBats.png"},{suit:"BASTONI",points:4,rank:8,faceUp:!1,owner:null,imageUrl:"../images/KBats.png"},{suit:"BASTONI",points:10,rank:9,faceUp:!1,owner:null,imageUrl:"../images/3Bats.png"},{suit:"BASTONI",points:11,rank:10,faceUp:!1,owner:null,imageUrl:"../images/ABats.png"}],this.showCard=this.showCard.bind(this),this.shuffleDeck=this.shuffleDeck.bind(this)}var t,r,a;return t=e,(r=[{key:"showCard",value:function(e){e.faceUp=!0}},{key:"shuffleDeck",value:function(){this.cardsInDeck.forEach((function(e){e.faceUp=!1,e.owner=null}));for(var e=0;e<1992;e++){var t=Math.floor(Math.random()*this.cardsInDeck.length),r=Math.floor(Math.random()*this.cardsInDeck.length),a=this.cardsInDeck[t];this.cardsInDeck[t]=this.cardsInDeck[r],this.cardsInDeck[r]=a}}}])&&o(t.prototype,r),a&&o(t,a),e}();function h(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentRoundScore=0,this.totalGameScore=0,this.name=t,this.addTotalScore=this.addTotalScore.bind(this)}var t,r,a;return t=e,(r=[{key:"addTotalScore",value:function(){this.totalGameScore+=this.currentRoundScore,this.currentRoundScore=0}}])&&h(t.prototype,r),a&&h(t,a),e}();function d(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentBrisc=[],this.currentDeck=new c,this.startOfEntireRound=0,this.startOfThisHand=0,this.thrownCards=[],this.lastHand={},this.ctx=t.getContext("2d"),this.humanTeam=new l("humanTeam"),this.robotTeam=new l("robotTeam"),this.PLAYERS=[new i(this.humanTeam,t,this),new n(this.robotTeam,1,t,this),new n(this.humanTeam,2,t,this),new n(this.robotTeam,3,t,this)],this.drawInitialBoard=this.drawInitialBoard.bind(this),this._dealCards=this._dealCards.bind(this),this.callBrisc=this.callBrisc.bind(this),this.addCardsValue=this.addCardsValue.bind(this),this.finalTally=this.finalTally.bind(this),this.winningCardThrown=this.winningCardThrown.bind(this),this.hasAnybodyWon=this.hasAnybodyWon.bind(this),this.eachPlayerDraws=this.eachPlayerDraws.bind(this),this.nextThrow=this.nextThrow.bind(this),this.populateLastHand=this.populateLastHand.bind(this),this.restartGame=this.restartGame.bind(this)}var t,r,a;return t=e,(r=[{key:"drawInitialBoard",value:function(){var e=this,t=new Image,r=new Image;t.src="../images/card-back-rename.JPG",r.src="../images/no-card.png";var a=this.PLAYERS[0].currentHand,n=new Image,s=new Image,i=new Image,o=new Image,c=new Image,h=new Image,l=new Image,d=new Image,g=new Image,u=new Image,m=new Image,p=new Image,w=new Image,f=new Image;void 0===this.lastHand[0]?(m.src="../images/no-card.png",p.src="../images/no-card.png",w.src="../images/no-card.png",f.src="../images/no-card.png"):(m.src=this.lastHand[0].imageUrl,p.src=this.lastHand[1].imageUrl,w.src=this.lastHand[2].imageUrl,f.src=this.lastHand[3].imageUrl),a.length>0?(n.src=a[0].imageUrl,h.src="../images/card-back-rename.JPG"):(n.src="../images/no-card.png",h.src="../images/no-card.png"),a.length>1?(s.src=a[1].imageUrl,l.src="../images/card-back-rename.JPG"):(s.src="../images/no-card.png",l.src="../images/no-card.png"),a.length>2?(i.src=a[2].imageUrl,d.src="../images/card-back-rename.JPG"):(i.src="../images/no-card.png",d.src="../images/no-card.png"),a.length>3?(o.src=a[3].imageUrl,g.src="../images/card-back-rename.JPG"):(o.src="../images/no-card.png",g.src="../images/no-card.png"),a.length>4?(c.src=a[4].imageUrl,u.src="../images/card-back-rename.JPG"):(c.src="../images/no-card.png",u.src="../images/no-card.png"),setTimeout((function(){e.ctx.save(),e.ctx.rotate(Math.PI/180*-90),e.ctx.drawImage(h,-195,1040,90,160),e.ctx.drawImage(l,-295,1040,90,160),e.ctx.drawImage(d,-395,1040,90,160),e.ctx.drawImage(g,-495,1040,90,160),e.ctx.drawImage(u,-595,1040,90,160),e.ctx.drawImage(r,-395,820,90,160),0!==e.currentDeck.cardsInDeck.length?e.ctx.drawImage(t,-395,520,90,160):e.ctx.drawImage(r,-395,520,90,160),e.ctx.restore(),e.ctx.save(),e.ctx.rotate(Math.PI/180*90),e.ctx.drawImage(h,105,-160,90,160),e.ctx.drawImage(l,205,-160,90,160),e.ctx.drawImage(d,305,-160,90,160),e.ctx.drawImage(g,405,-160,90,160),e.ctx.drawImage(u,505,-160,90,160),e.ctx.drawImage(r,305,-380,90,160),e.ctx.restore(),e.ctx.save(),e.ctx.rotate(Math.PI/180*180),e.ctx.drawImage(h,-445,-80,90,160),e.ctx.drawImage(l,-545,-80,90,160),e.ctx.drawImage(d,-645,-80,90,160),e.ctx.drawImage(g,-745,-80,90,160),e.ctx.drawImage(u,-845,-80,90,160),e.ctx.drawImage(r,-645,-260,90,160),e.ctx.restore(),e.currentDeck.cardsInDeck.length>0&&(e.ctx.font="36px Georgia",e.ctx.fillStyle="red",e.ctx.fillText(e.currentDeck.cardsInDeck.length,583,360)),e.ctx.drawImage(r,0,0,350,90),e.ctx.drawImage(r,865,0,350,90),e.ctx.font="24px Georgia",e.ctx.fillStyle="red",e.ctx.fillText("Total Game Score (first to 500)",15,20),e.ctx.fillText("Current Round Score",900,20),e.ctx.font="16px Georgia",e.ctx.fillStyle="red",e.ctx.fillText("Your Team                            Other Team",50,35),e.ctx.fillText("Your Team                            Other Team",875,35),e.ctx.font="24px Georgia",e.ctx.fillStyle="whitesmoke",e.ctx.fillText(e.humanTeam.totalGameScore,75,60),e.ctx.fillText(e.robotTeam.totalGameScore,265,60),e.ctx.fillText(e.humanTeam.currentRoundScore,900,60),e.ctx.fillText(e.robotTeam.currentRoundScore,1100,60),e.ctx.drawImage(n,355,620,90,160),e.ctx.drawImage(s,455,620,90,160),e.ctx.drawImage(i,555,620,90,160),e.ctx.drawImage(o,655,620,90,160),e.ctx.drawImage(c,755,620,90,160),e.ctx.drawImage(m,155,700,45,80),e.ctx.drawImage(p,205,665,45,80),e.ctx.drawImage(w,155,610,45,80),e.ctx.drawImage(f,105,665,45,80),e.ctx.drawImage(r,555,440,90,160)}),350)}},{key:"_dealCards",value:function(){var e=this;if(0===this.PLAYERS[0].currentHand.length){var t=new Image;t.src="../images/no-card.png",setTimeout((function(){e.ctx.drawImage(t,215,500,125,150)}),200);for(var r=0;r<5;r++)this.PLAYERS.forEach((function(t){var r=e.currentDeck.cardsInDeck.pop();t.addCard(r)}))}}},{key:"callBrisc",value:function(e,t){var r=this;if(console.log("calling"),0===this.currentBrisc.length){this.currentBrisc.push(e),t.team.currentRoundScore+=40;var a=new Image,n=new Image;n.src="../images/no-card.png",a.src="DENARI"===e?"../images/AGold.png":"SPADE"===e?"../images/ASwords.png":"COPPE"===e?"../images/ACups.png":"BASTONI"===e?"../images/ABats.png":"../images/no-card.png",setTimeout((function(){r.ctx.font="16px Georgia",r.ctx.fillStyle="red",r.ctx.fillText("Current Brisc:",230,535),r.ctx.drawImage(a,255,550,45,80),r.ctx.drawImage(n,865,0,350,90)}),200)}else-1===this.currentBrisc.indexOf(e)&&(this.currentBrisc.push(e),t.team.currentRoundScore+=20)}},{key:"addCardsValue",value:function(e,t){var r=0;t.forEach((function(e){r+=e.points})),e.currentRoundScore+=r}},{key:"finalTally",value:function(){this.humanTeam.addTotalScore(),this.robotTeam.addTotalScore()}},{key:"winningCardThrown",value:function(){var e=this;if(void 0!==this)if(4===this.thrownCards.length){for(var t=this.thrownCards[0],r=this.thrownCards[0].suit,a=1;a<4;a++){var n=this.thrownCards[a];n.rank>t.rank&&n.suit===r&&(t=n)}if(0!==this.currentBrisc.length){r=this.currentBrisc[0];for(var s=0;s<4;s++){var i=this.thrownCards[s];(i.suit===r&&t.suit!==r||i.rank>t.rank&&i.suit===r&&t.suit===r)&&(t=i)}}"humanTeam"==new String(t.owner.team.name)?this.addCardsValue(this.humanTeam,this.thrownCards):this.addCardsValue(this.robotTeam,this.thrownCards),this.populateLastHand(),this.startOfThisHand=this.PLAYERS.indexOf(t.owner),this.thrownCards=[],0!==this.currentDeck.cardsInDeck.length&&this.eachPlayerDraws(this.startOfThisHand),0!==this.PLAYERS[0].currentHand.length?this.playTurn():setTimeout((function(){return e.restartGame()}),2500),this.drawInitialBoard()}else console.log("NOT YET!!!")}},{key:"restartGame",value:function(){this.finalTally(),this.hasAnybodyWon()?console.log("gamover"):(this.startOfEntireRound++,this.startOfThisHand=this.startOfEntireRound,this.currentBrisc=[],this.currentDeck=new c,this.thrownCards=[],this.lastHand={},this.currentDeck.shuffleDeck(),this._dealCards(),this.playTurn(),this.drawInitialBoard())}},{key:"populateLastHand",value:function(){for(var e=0;e<4;e++){var t=this.thrownCards[e];this.lastHand[t.owner.id]=t}}},{key:"nextThrow",value:function(){var e=this.PLAYERS[(this.startOfThisHand+1)%this.PLAYERS.length],t=this.PLAYERS[(this.startOfThisHand+2)%this.PLAYERS.length],r=this.PLAYERS[(this.startOfThisHand+3)%this.PLAYERS.length];1===this.thrownCards.length&&setTimeout((function(){return e.promptMove()}),1e3),2===this.thrownCards.length&&setTimeout((function(){return t.promptMove()}),1e3),3===this.thrownCards.length&&setTimeout((function(){return r.promptMove()}),1e3)}},{key:"playTurn",value:function(){this.PLAYERS[0].briscAvailable(),this.PLAYERS[0].renderBriscCards(),this.PLAYERS[(this.startOfThisHand+0)%this.PLAYERS.length].promptMove()}},{key:"eachPlayerDraws",value:function(e){var t=this.PLAYERS[(e+0)%4],r=this.PLAYERS[(e+1)%4],a=this.PLAYERS[(e+2)%4],n=this.PLAYERS[(e+3)%4];t.addCard(this.currentDeck.cardsInDeck.pop()),r.addCard(this.currentDeck.cardsInDeck.pop()),a.addCard(this.currentDeck.cardsInDeck.pop()),n.addCard(this.currentDeck.cardsInDeck.pop())}},{key:"hasAnybodyWon",value:function(){if(this.humanTeam.totalGameScore>=500||this.robotTeam.totalGameScore>=500){var e=document.querySelector(".game-over"),t=document.querySelector(".my-score"),r=document.querySelector(".their-score");return t.value=this.humanTeam.totalGameScore,r.value=this.humanTeam.totalGameScore,e.style.display="block",!0}return!1}}])&&d(t.prototype,r),a&&d(t,a),e}();document.addEventListener("DOMContentLoaded",(function(){var e,t,r=document.getElementById("canvas-game"),a=new g(r);t=0,(e=a).currentDeck.shuffleDeck(),e._dealCards(),setTimeout((function(){return e.drawInitialBoard()}),250),e.startOfEntireRound=t,e.startOfThisHand=t,a.playTurn();var n=document.getElementById("rules-button"),s=document.querySelector(".modal"),i=document.querySelector(".close-btn");n.onclick=function(){s.style.display="block"},i.onclick=function(){s.style.display="none"},window.onclick=function(e){e.target==s&&(s.style.display="none")}}))}]);
//# sourceMappingURL=main.js.map