!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=0)}([function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n.r(t);var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cardsInDeck=[{suit:"DENARI",points:0,rank:1,faceUp:!1,owner:null,imageUrl:"./images/2Gold.png"},{suit:"DENARI",points:0,rank:2,faceUp:!1,owner:null,imageUrl:"./images/4Gold.png"},{suit:"DENARI",points:0,rank:3,faceUp:!1,owner:null,imageUrl:"./images/5Gold.png"},{suit:"DENARI",points:0,rank:4,faceUp:!1,owner:null,imageUrl:"./images/6Gold.png"},{suit:"DENARI",points:0,rank:5,faceUp:!1,owner:null,imageUrl:"./images/7Gold.png"},{suit:"DENARI",points:2,rank:6,faceUp:!1,owner:null,imageUrl:"./images/JGold.png"},{suit:"DENARI",points:3,rank:7,faceUp:!1,owner:null,imageUrl:"./images/QGold.png"},{suit:"DENARI",points:4,rank:8,faceUp:!1,owner:null,imageUrl:"./images/KGold.png"},{suit:"DENARI",points:10,rank:9,faceUp:!1,owner:null,imageUrl:"./images/3Gold.png"},{suit:"DENARI",points:11,rank:10,faceUp:!1,owner:null,imageUrl:"./images/AGold.png"},{suit:"SPADE",points:0,rank:1,faceUp:!1,owner:null,imageUrl:"./images/2Swords.png"},{suit:"SPADE",points:0,rank:2,faceUp:!1,owner:null,imageUrl:"./images/4Swords.png"},{suit:"SPADE",points:0,rank:3,faceUp:!1,owner:null,imageUrl:"./images/5Swords.png"},{suit:"SPADE",points:0,rank:4,faceUp:!1,owner:null,imageUrl:"./images/6Swords.png"},{suit:"SPADE",points:0,rank:5,faceUp:!1,owner:null,imageUrl:"./images/7Swords.png"},{suit:"SPADE",points:2,rank:6,faceUp:!1,owner:null,imageUrl:"./images/JSwords.png"},{suit:"SPADE",points:3,rank:7,faceUp:!1,owner:null,imageUrl:"./images/QSwords.png"},{suit:"SPADE",points:4,rank:8,faceUp:!1,owner:null,imageUrl:"./images/KSwords.png"},{suit:"SPADE",points:10,rank:9,faceUp:!1,owner:null,imageUrl:"./images/3Swords.png"},{suit:"SPADE",points:11,rank:10,faceUp:!1,owner:null,imageUrl:"./images/ASwords.png"},{suit:"COPPE",points:0,rank:1,faceUp:!1,owner:null,imageUrl:"./images/2Cups.png"},{suit:"COPPE",points:0,rank:2,faceUp:!1,owner:null,imageUrl:"./images/4Cups.png"},{suit:"COPPE",points:0,rank:3,faceUp:!1,owner:null,imageUrl:"./images/5Cups.png"},{suit:"COPPE",points:0,rank:4,faceUp:!1,owner:null,imageUrl:"./images/6Cups.png"},{suit:"COPPE",points:0,rank:5,faceUp:!1,owner:null,imageUrl:"./images/7Cups.png"},{suit:"COPPE",points:2,rank:6,faceUp:!1,owner:null,imageUrl:"./images/JCups.png"},{suit:"COPPE",points:3,rank:7,faceUp:!1,owner:null,imageUrl:"./images/QCups.png"},{suit:"COPPE",points:4,rank:8,faceUp:!1,owner:null,imageUrl:"./images/KCups.png"},{suit:"COPPE",points:10,rank:9,faceUp:!1,owner:null,imageUrl:"./images/3Cups.png"},{suit:"COPPE",points:11,rank:10,faceUp:!1,owner:null,imageUrl:"./images/ACups.png"},{suit:"BASTONI",points:0,rank:1,faceUp:!1,owner:null,imageUrl:"./images/2Bats.png"},{suit:"BASTONI",points:0,rank:2,faceUp:!1,owner:null,imageUrl:"./images/4Bats.png"},{suit:"BASTONI",points:0,rank:3,faceUp:!1,owner:null,imageUrl:"./images/5Bats.png"},{suit:"BASTONI",points:0,rank:4,faceUp:!1,owner:null,imageUrl:"./images/6Bats.png"},{suit:"BASTONI",points:0,rank:5,faceUp:!1,owner:null,imageUrl:"./images/7Bats.png"},{suit:"BASTONI",points:2,rank:6,faceUp:!1,owner:null,imageUrl:"./images/JBats.png"},{suit:"BASTONI",points:3,rank:7,faceUp:!1,owner:null,imageUrl:"./images/QBats.png"},{suit:"BASTONI",points:4,rank:8,faceUp:!1,owner:null,imageUrl:"./images/KBats.png"},{suit:"BASTONI",points:10,rank:9,faceUp:!1,owner:null,imageUrl:"./images/3Bats.png"},{suit:"BASTONI",points:11,rank:10,faceUp:!1,owner:null,imageUrl:"./images/ABats.png"}]}var t,n,r;return t=e,(n=[{key:"imageUrl",value:function(e,t){}},{key:"showCard",value:function(e){e.faceUp=!0}},{key:"shuffleDeck",value:function(){this.cardsInDeck.forEach((function(e){e.faceUp=!1,e.owner=null}));for(var e=0;e<1992;e++){var t=Math.floor(Math.random()*this.cardsInDeck.length),n=Math.floor(Math.random()*this.cardsInDeck.length),a=this.cardsInDeck[t];this.cardsInDeck[t]=this.cardsInDeck[n],this.cardsInDeck[n]=a}}}])&&a(t.prototype,n),r&&a(t,r),e}();function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.team=t,this.currentHand=[],this.id=n}var t,n,a;return t=e,(n=[{key:"addCard",value:function(e){if(!(this.currentHand.length<5))throw"STOP CHEATING AT BRISC.";e.owner=this,e.team=this.team,this.currentHand.push(e)}},{key:"promptMove",value:function(){var e=this.currentHand[0];return this.currentHand=this.currentHand.slice(0,0).concat(this.currentHand.slice(1,this.currentHand.length)),e.faceUp=!0,e}}])&&i(t.prototype,n),a&&i(t,a),e}();function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.team=t,this.currentHand=[],this.id=0}var t,n,a;return t=e,(n=[{key:"briscAvailable",value:function(){if(!(this.currentHand.length<3)){var e={DENARI:0,SPADE:0,COPPE:0,BASTONI:0},t=[];for(var n in this.currentHand.forEach((function(t){3!==t.points&&4!==t.points||(e[t.suit]+=1)})),e)e[n]>1&&t.push(n);return t}}},{key:"addCard",value:function(e){if(!(this.currentHand.length<5))throw"STOP CHEATING AT BRISC.";e.owner=this,e.faceUp=!0,e.team=this.team,this.currentHand.push(e)}},{key:"promptMove",value:function(){var e;this.chooseCard=function(){document.addEventListener("mousedown",(function(e){return e.pageX>365&&e.pageX<455&&e.pageY>700&&e.pageY<860?1:e.pageX>465&&e.pageX<555&&e.pageY>700&&e.pageY<860?2:e.pageX>565&&e.pageX<655&&e.pageY>700&&e.pageY<860?3:e.pageX>665&&e.pageX<755&&e.pageY>700&&e.pageY<860?4:e.pageX>765&&e.pageX<855&&e.pageY>700&&e.pageY<860?5:void 0}))},e=this.chooseCard();var t=this.currentHand[e];return this.currentHand=this.currentHand.slice(0,e).concat(this.currentHand.slice(e+1,this.currentHand.length)),t.faceUp=!0,t}}])&&o(t.prototype,n),a&&o(t,a),e}();function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentRoundScore=0,this.totalGameScore=0,this.name=t}var t,n,a;return t=e,(n=[{key:"addTotalScore",value:function(){this.totalGameScore+=this.currentRoundScore,this.currentRoundScore=0}}])&&c(t.prototype,n),a&&c(t,a),e}();function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentBrisc=null,this.currentDeck=new r,this.currentDeck.shuffleDeck(),this.startingPlayerIndex=1,this.startOfRoundMove=this.startingPlayerIndex,this.thrownCards=[],this.c=t.getContext("2d"),this.humanTeam=new l("humanTeam"),this.robotTeam=new l("robotTeam"),console.log("players"),this.PLAYERS=[new u(this.humanTeam),new s(this.robotTeam,1),new s(this.humanTeam,2),new s(this.robotTeam,3)]}var t,n,a;return t=e,(n=[{key:"drawBoard",value:function(){if(void 0!==this.PLAYERS[0]&&void 0!==this.PLAYERS[1]&&void 0!==this.PLAYERS[2]&&void 0!==this.PLAYERS[3]&&void 0!==this.currentDeck.cardsInDeck&&void 0!==this.c){console.log("drawing"),console.log(this.PLAYERS[1]);var e=new Image;e.src="../images/card-back-rename.jpg",e.onload=function(){this.c.save(),this.c.rotate(Math.PI/180*-90),this.PLAYERS[1].currentHand.length>0&&this.c.drawImage(e,-195,1040,90,160),this.PLAYERS[1].currentHand.length>1&&this.c.drawImage(e,-295,1040,90,160),this.PLAYERS[1].currentHand.length>2&&this.c.drawImage(e,-395,1040,90,160),this.PLAYERS[1].currentHand.length>3&&this.c.drawImage(e,-495,1040,90,160),this.PLAYERS[1].currentHand.length>4&&this.c.drawImage(e,-595,1040,90,160),this.c.drawImage(e,-395,820,90,160),this.currentDeck.cardsInDeck.length>0&&this.c.drawImage(e,-395,520,90,160),this.c.restore(),this.c.save(),this.c.rotate(Math.PI/180*90),this.c.drawImage(e,105,-160,90,160),this.c.drawImage(e,205,-160,90,160),this.c.drawImage(e,305,-160,90,160),this.c.drawImage(e,405,-160,90,160),this.c.drawImage(e,505,-160,90,160),this.c.drawImage(e,305,-380,90,160),this.c.restore(),this.c.save(),this.c.rotate(Math.PI/180*180),this.c.drawImage(e,-445,-80,90,160),this.c.drawImage(e,-545,-80,90,160),this.c.drawImage(e,-645,-80,90,160),this.c.drawImage(e,-745,-80,90,160),this.c.drawImage(e,-845,-80,90,160),this.c.drawImage(e,-645,-260,90,160),this.c.restore(),this.c.drawImage(e,355,620,90,160),this.c.drawImage(e,455,620,90,160),this.c.drawImage(e,555,620,90,160),this.c.drawImage(e,655,620,90,160),this.c.drawImage(e,755,620,90,160),this.c.drawImage(e,555,440,90,160)}}}},{key:"_dealCards",value:function(){for(var e=this,t=0;t<5;t++)this.PLAYERS.forEach((function(t){var n=e.currentDeck.cardsInDeck.pop();t.currentHand.push(n),n.owner=t,t instanceof u&&(n.faceUp=!0)}))}},{key:"callBrisc",value:function(e,t){null===this.currentBrisc?(this.currentBrisc=[e],t.team.roundScore+=40):-1===this.currentBrisc.indexOf(e)&&(this.currentBrisc.push(e),t.team.roundScore+=20)}},{key:"drawCard",value:function(e,t){e.addCard(t)}},{key:"thisRoundOver",value:function(){return 0===this.PLAYERS[0].currentHand.length}},{key:"addCardsValue",value:function(e,t){var n=0;t.forEach((function(e){n+=e.points})),e.currentRoundScore+=n}},{key:"finalTally",value:function(){this.humanTeam.addTotalScore(),this.robotTeam.addTotalScore()}},{key:"playRound",value:function(){for(this.currentBrisc=null,this.currentDeck=new r,this.currentDeck.shuffleDeck(),this._dealCards(),this.drawBoard();!this.thisRoundOver();)this.playHand()}},{key:"winningCardThrown",value:function(){var e,t;e=this.currentBrisc?this.currentBrisc:this.thrownCards[0].suit;for(var n=0;n<4;n++)(this.thrownCards[n].suit===e&&void 0===t||this.thrownCards[n].rank>t.rank)&&(t=this.thrownCards[n]);"humanTeam"==new String(t.owner.team.name)?this.addCardsValue(this.humanTeam,this.thrownCards):this.addCardsValue(this.robotTeam,this.thrownCards),this.startOfRoundMove=this.PLAYERS.indexOf(t.owner),this.thrownCards=[]}},{key:"playHand",value:function(){this.thrownCards.push(this.PLAYERS[(this.startOfRoundMove+0)%this.PLAYERS.length].promptMove()),this.drawBoard(),this.thrownCards.push(this.PLAYERS[(this.startOfRoundMove+1)%this.PLAYERS.length].promptMove()),this.drawBoard(),this.thrownCards.push(this.PLAYERS[(this.startOfRoundMove+2)%this.PLAYERS.length].promptMove()),this.drawBoard(),this.thrownCards.push(this.PLAYERS[(this.startOfRoundMove+3)%this.PLAYERS.length].promptMove()),this.drawBoard(),this.winningCardThrown(),console.log(this.thrownCards),0!==this.currentDeck.cardsInDeck.length&&(this.PLAYERS[(this.startOfRoundMove+0)%this.PLAYERS.length].addCard(this.currentDeck.cardsInDeck.pop()),this.PLAYERS[(this.startOfRoundMove+1)%this.PLAYERS.length].addCard(this.currentDeck.cardsInDeck.pop()),this.PLAYERS[(this.startOfRoundMove+2)%this.PLAYERS.length].addCard(this.currentDeck.cardsInDeck.pop()),this.PLAYERS[(this.startOfRoundMove+3)%this.PLAYERS.length].addCard(this.currentDeck.cardsInDeck.pop()))}},{key:"hasAnybodyWon",value:function(){return this.humanTeam.totalGameScore>=500&&this.robotTeam.totalGameScore>=500&&this.robotTeam.totalGameScore>this.humanTeam.totalGameScore||this.humanTeam.totalGameScore>=500&&this.robotTeam.totalGameScore>=500&&this.robotTeam.totalGameScore<=this.humanTeam.totalGameScore||this.humanTeam.totalGameScore>=500||this.robotTeam.totalGameScore>=500}},{key:"playGame",value:function(){for(this._dealCards(),this.drawBoard(),console.log("playgame");!this.hasAnybodyWon();)this.playRound(),this.finalTally(),this.startingPlayerIndex+=1,this.startOfRoundMove=(this.startingPlayerIndex+1)%this.PLAYERS.length;return console.log("game Over"),this.hasAnybodyWon()}}])&&h(t.prototype,n),a&&h(t,a),e}();document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("canvas-game"),t=new d(e);setTimeout(t.playGame(),1)}))}]);
//# sourceMappingURL=main.js.map