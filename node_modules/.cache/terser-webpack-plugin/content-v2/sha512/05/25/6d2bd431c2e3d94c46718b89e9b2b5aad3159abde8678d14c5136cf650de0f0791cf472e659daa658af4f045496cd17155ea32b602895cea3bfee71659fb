{"map":"{\"version\":3,\"sources\":[\"main.js\"],\"names\":[\"modules\",\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"__webpack_exports__\",\"_defineProperties\",\"target\",\"props\",\"length\",\"descriptor\",\"configurable\",\"writable\",\"ComputerPlayer\",\"team\",\"id\",\"canvas\",\"game\",\"instance\",\"Constructor\",\"TypeError\",\"_classCallCheck\",\"this\",\"ctx\",\"getContext\",\"currentHand\",\"addCard\",\"promptMove\",\"renderThrow\",\"chooseBestCard\",\"briscAvailable\",\"worstCardThrower\",\"modifyBriscPoints\",\"toCallBrisc\",\"positions\",\"1\",\"rot\",\"one\",\"two\",\"three\",\"four\",\"five\",\"card1to5yPos\",\"thrownCardyPos\",\"throwCardxPos\",\"2\",\"3\",\"possibleBriscs\",\"DENARI\",\"SPADE\",\"COPPE\",\"BASTONI\",\"protoProps\",\"staticProps\",\"num\",\"_this\",\"pI\",\"firstCard\",\"Image\",\"secondCard\",\"thirdCard\",\"fourthCard\",\"fifthCard\",\"throwCard\",\"src\",\"imageUrl\",\"setTimeout\",\"save\",\"rotate\",\"Math\",\"PI\",\"drawImage\",\"restore\",\"card\",\"points\",\"suit\",\"owner\",\"faceUp\",\"push\",\"console\",\"log\",\"smallestIdx\",\"rank\",\"callBrisc\",\"toThrowIdx\",\"cardToThrow\",\"currentDeck\",\"cardsInDeck\",\"floor\",\"random\",\"slice\",\"concat\",\"thrownCards\",\"_this2\",\"winningCardThrown\",\"nextThrow\",\"human_defineProperties\",\"HumanPlayer\",\"human_classCallCheck\",\"handleMouseDown\",\"registerEventListeners\",\"removeEventListeners\",\"renderBriscCards\",\"blockBrisc\",\"kingGold\",\"queenGold\",\"kingSwords\",\"queenSwords\",\"kingCups\",\"queenCups\",\"kingBats\",\"queenBats\",\"font\",\"fillStyle\",\"fillText\",\"selectedIdx\",\"_this3\",\"e\",\"_this4\",\"pageY\",\"pageX\",\"margin\",\"document\",\"getElementsByClassName\",\"offsetWidth\",\"preventDefault\",\"addEventListener\",\"removeEventListener\",\"deck_defineProperties\",\"Deck\",\"deck_classCallCheck\",\"showCard\",\"shuffleDeck\",\"forEach\",\"card1\",\"card2\",\"tmp\",\"team_defineProperties\",\"Team\",\"team_classCallCheck\",\"currentRoundScore\",\"totalGameScore\",\"addTotalScore\",\"game_defineProperties\",\"game_Game\",\"Game\",\"game_classCallCheck\",\"currentBrisc\",\"startOfEntireRound\",\"startOfThisHand\",\"lastHand\",\"humanTeam\",\"robotTeam\",\"PLAYERS\",\"drawInitialBoard\",\"_dealCards\",\"addCardsValue\",\"finalTally\",\"hasAnybodyWon\",\"eachPlayerDraws\",\"populateLastHand\",\"restartGame\",\"faceDown\",\"noCard\",\"humanPlayerHand\",\"cpuFirstCard\",\"cpuSecondCard\",\"cpuThirdCard\",\"cpuFourthCard\",\"cpuFifthCard\",\"lastUser\",\"lastCPU1\",\"lastCPU2\",\"lastCPU3\",\"undefined\",\"player\",\"cardToDraw\",\"pop\",\"alert\",\"briscCard\",\"indexOf\",\"cards\",\"currentRoundTally\",\"highestCard\",\"suitToBeat\",\"thisThrown\",\"_i\",\"_thisThrown\",\"String\",\"playTurn\",\"secondToThrow\",\"thirdToThrow\",\"lastToThrow\",\"firstIdx\",\"firstToDraw\",\"secondToDraw\",\"thirdToDraw\",\"lastToDraw\",\"modal\",\"querySelector\",\"myScore\",\"yourScore\",\"style\",\"display\",\"getElementById\",\"currentGame\",\"modalBtn\",\"closeBtn\",\"onclick\",\"window\"],\"mappings\":\"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\"}","code":"!function(e){var r={};function t(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=r,t.d=function(e,r,s){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:s})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var i in e)t.d(s,i,function(r){return e[r]}.bind(null,i));return s},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p=\"/dist/\",t(t.s=0)}([function(e,r,t){\"use strict\";function s(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}t.r(r);var i=function(){function e(r,t,s,i){!function(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.ctx=s.getContext(\"2d\"),this.game=i,this.team=r,this.currentHand=[],this.id=t,this.addCard=this.addCard.bind(this),this.promptMove=this.promptMove.bind(this),this.renderThrow=this.renderThrow.bind(this),this.chooseBestCard=this.chooseBestCard.bind(this),this.briscAvailable=this.briscAvailable.bind(this),this.worstCardThrower=this.worstCardThrower.bind(this),this.modifyBriscPoints=this.modifyBriscPoints.bind(this),this.toCallBrisc=this.toCallBrisc.bind(this),this.positions={1:{rot:-90,one:-160,two:-230,three:-300,four:-370,five:-440,card1to5yPos:902,thrownCardyPos:700,throwCardxPos:-314},2:{rot:180,one:-410,two:-480,three:-550,four:-620,five:-690,card1to5yPos:-98,thrownCardyPos:-250,throwCardxPos:-564},3:{rot:90,one:105,two:175,three:245,four:315,five:385,card1to5yPos:-98,thrownCardyPos:-300,throwCardxPos:231}},this.possibleBriscs={DENARI:0,SPADE:0,COPPE:0,BASTONI:0}}var r,t,i;return r=e,(t=[{key:\"briscAvailable\",value:function(){this.currentHand.length<3&&(this.possibleBriscs={DENARI:0,SPADE:0,COPPE:0,BASTONI:0})}},{key:\"renderThrow\",value:function(e){var r=this,t=this.positions[this.id],s=new Image,i=new Image,a=new Image,n=new Image,c=new Image,o=new Image;o.src=this.currentHand[e].imageUrl,0!==this.currentHand.length&&0!==e?s.src=\"src/public/images/card-back-rename.JPG\":s.src=\"src/public/images/no-card.png\",this.currentHand.length>1&&1!==e?i.src=\"src/public/images/card-back-rename.JPG\":i.src=\"src/public/images/no-card.png\",this.currentHand.length>2&&2!==e?a.src=\"src/public/images/card-back-rename.JPG\":a.src=\"src/public/images/no-card.png\",this.currentHand.length>3&&3!==e?n.src=\"src/public/images/card-back-rename.JPG\":n.src=\"src/public/images/no-card.png\",this.currentHand.length>4&&4!==e?c.src=\"src/public/images/card-back-rename.JPG\":c.src=\"src/public/images/no-card.png\",setTimeout((function(){r.ctx.save(),r.ctx.rotate(t.rot*(Math.PI/180)),r.ctx.drawImage(s,t.one,t.card1to5yPos,55,98),r.ctx.drawImage(i,t.two,t.card1to5yPos,55,98),r.ctx.drawImage(a,t.three,t.card1to5yPos,55,98),r.ctx.drawImage(n,t.four,t.card1to5yPos,55,98),r.ctx.drawImage(c,t.five,t.card1to5yPos,55,98),r.ctx.drawImage(o,t.throwCardxPos,t.thrownCardyPos,81,144),r.ctx.restore()}),500)}},{key:\"addCard\",value:function(e){this.currentHand.length<5?(3!==e.points&&4!==e.points||(this.possibleBriscs[e.suit]+=e.points),e.owner=this,e.faceUp=!0,e.team=this.team,this.currentHand.push(e)):console.log(\"cpu trying to draw again.  IDK WHY!\")}},{key:\"worstCardThrower\",value:function(){for(var e=0,r=1;r<5;r++)this.currentHand[r].rank<this.currentHand[e].rank&&(e=r);return e}},{key:\"modifyBriscPoints\",value:function(e){(3===e.points||4===e.points&&0!==this.possibleBriscs[e.suit])&&(this.possibleBriscs[e.suit]-=e.points)}},{key:\"toCallBrisc\",value:function(e){this.game.callBrisc(e,this)}},{key:\"chooseBestCard\",value:function(){var e,r;if(0!==this.game.currentDeck.cardsInDeck.length)e=this.worstCardThrower(),r=this.currentHand[e];else{e=Math.floor(Math.random()*this.currentHand.length),r=this.currentHand[e];for(var t=[\"DENARI\",\"SPADE\",\"COPPE\",\"BASTONI\"],s=0;s<4;s++){var i=t[s];7===this.possibleBriscs[i]&&this.toCallBrisc(i)}}this.modifyBriscPoints(r),this.renderThrow(e),this.currentHand=this.currentHand.slice(0,e).concat(this.currentHand.slice(e+1,this.currentHand.length)),this.game.thrownCards.push(r)}},{key:\"promptMove\",value:function(){var e=this;this.briscAvailable(),this.chooseBestCard(),4===this.game.thrownCards.length?setTimeout((function(){return e.game.winningCardThrown(e.game)}),2500):this.game.nextThrow()}}])&&s(r.prototype,t),i&&s(r,i),e}();function a(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var n=function(){function e(r,t,s){!function(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.game=s,this.ctx=t.getContext(\"2d\"),this.game=s,this.team=r,this.currentHand=[],this.id=0,this.possibleBriscs={DENARI:0,SPADE:0,COPPE:0,BASTONI:0},this.briscAvailable=this.briscAvailable.bind(this),this.addCard=this.addCard.bind(this),this.throwCard=this.throwCard.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.registerEventListeners=this.registerEventListeners.bind(this),this.removeEventListeners=this.removeEventListeners.bind(this),this.promptMove=this.promptMove.bind(this),this.renderThrow=this.renderThrow.bind(this),this.registerEventListeners(),this.renderBriscCards=this.renderBriscCards.bind(this),this.modifyBriscPoints=this.modifyBriscPoints.bind(this)}var r,t,s;return r=e,(t=[{key:\"briscAvailable\",value:function(){this.currentHand.length<3&&(this.possibleBriscs={DENARI:0,SPADE:0,COPPE:0,BASTONI:0})}},{key:\"modifyBriscPoints\",value:function(e){(3===e.points||4===e.points&&0!==this.possibleBriscs[e.suit])&&(this.possibleBriscs[e.suit]-=e.points)}},{key:\"renderBriscCards\",value:function(){var e=this,r=new Image;r.src=\"src/public/images/no-card.png\";var t=new Image;4===this.possibleBriscs.DENARI||7===this.possibleBriscs.DENARI?t.src=\"src/public/images/KGold.png\":t.src=\"src/public/images/card-back-rename.JPG\";var s=new Image;3===this.possibleBriscs.DENARI||7===this.possibleBriscs.DENARI?s.src=\"src/public/images/QGold.png\":s.src=\"src/public/images/card-back-rename.JPG\";var i=new Image;4===this.possibleBriscs.SPADE||7===this.possibleBriscs.SPADE?i.src=\"src/public/images/KSwords.png\":i.src=\"src/public/images/card-back-rename.JPG\";var a=new Image;3===this.possibleBriscs.SPADE||7===this.possibleBriscs.SPADE?a.src=\"src/public/images/QSwords.png\":a.src=\"src/public/images/card-back-rename.JPG\";var n=new Image;4===this.possibleBriscs.COPPE||7===this.possibleBriscs.COPPE?n.src=\"src/public/images/KCups.png\":n.src=\"src/public/images/card-back-rename.JPG\";var c=new Image;3===this.possibleBriscs.COPPE||7===this.possibleBriscs.COPPE?c.src=\"src/public/images/QCups.png\":c.src=\"src/public/images/card-back-rename.JPG\";var o=new Image;4===this.possibleBriscs.BASTONI||7===this.possibleBriscs.BASTONI?o.src=\"src/public/images/KBats.png\":o.src=\"src/public/images/card-back-rename.JPG\";var l=new Image;3===this.possibleBriscs.BASTONI||7===this.possibleBriscs.BASTONI?l.src=\"src/public/images/QBats.png\":l.src=\"src/public/images/card-back-rename.JPG\",setTimeout((function(){e.ctx.drawImage(r,743,500,350,185),e.ctx.drawImage(t,750,530,35,65),e.ctx.drawImage(s,770,580,35,65),e.ctx.drawImage(i,810,530,35,65),e.ctx.drawImage(a,830,580,35,65),e.ctx.drawImage(n,870,530,35,65),e.ctx.drawImage(c,890,580,35,65),e.ctx.drawImage(o,930,530,35,65),e.ctx.drawImage(l,950,580,35,65),e.ctx.font=\"24px Georgia\",e.ctx.fillStyle=\"red\",e.ctx.fillText(\"Call a brisc on your turn\",743,522)}),250)}},{key:\"addCard\",value:function(e){this.currentHand.length<5?(3!==e.points&&4!==e.points||(this.possibleBriscs[e.suit]+=e.points),e.owner=this,e.faceUp=!0,e.team=this.team,this.currentHand.push(e)):console.log(\"human trying to draw again.  IDK WHY\")}},{key:\"renderThrow\",value:function(e){var r=this,t=new Image,s=new Image,i=new Image,a=new Image,n=new Image,c=new Image;c.src=this.currentHand[e].imageUrl,0!==this.currentHand.length&&0!==e?t.src=this.currentHand[0].imageUrl:t.src=\"src/public/images/no-card.png\",this.currentHand.length>1&&1!==e?s.src=this.currentHand[1].imageUrl:s.src=\"src/public/images/no-card.png\",this.currentHand.length>2&&2!==e?i.src=this.currentHand[2].imageUrl:i.src=\"src/public/images/no-card.png\",this.currentHand.length>3&&3!==e?a.src=this.currentHand[3].imageUrl:a.src=\"src/public/images/no-card.png\",this.currentHand.length>4&&4!==e?n.src=this.currentHand[4].imageUrl:n.src=\"src/public/images/no-card.png\",setTimeout((function(){r.ctx.drawImage(t,300,505,81,144),r.ctx.drawImage(s,390,505,81,144),r.ctx.drawImage(i,480,505,81,144),r.ctx.drawImage(a,570,505,81,144),r.ctx.drawImage(n,660,505,81,144),r.ctx.drawImage(c,480,345,81,144)}),500)}},{key:\"throwCard\",value:function(e){var r=this,t=this.currentHand[e];return this.currentHand=this.currentHand.slice(0,e).concat(this.currentHand.slice(e+1,this.currentHand.length)),this.game.thrownCards.push(t),this.modifyBriscPoints(t),4===this.game.thrownCards.length&&setTimeout((function(){return r.game.winningCardThrown(r.game)}),2500),t}},{key:\"handleMouseDown\",value:function(e){var r=this;console.log(e.pageY,\"Y\"),console.log(e.pageX,\"X\");var t=document.getElementsByClassName(\"game-board-container\")[0].offsetWidth;return t=t<=1200?0:(t-1200)/2-105,e.preventDefault(),e.pageX>t+963&&e.pageX<t+1018&&e.pageY>611&&e.pageY<726&&7===this.possibleBriscs.DENARI&&(this.possibleBriscs.DENARI=0,this.game.callBrisc(\"DENARI\",this),this.renderBriscCards()),e.pageX>t+1023&&e.pageX<t+1078&&e.pageY>611&&e.pageY<726&&7===this.possibleBriscs.SPADE&&(this.possibleBriscs.SPADE=0,this.game.callBrisc(\"SPADE\",this),this.renderBriscCards()),e.pageX>t+1083&&e.pageX<t+1138&&e.pageY>611&&e.pageY<726&&7===this.possibleBriscs.COPPE&&(this.possibleBriscs.COPPE=0,this.game.callBrisc(\"COPPE\",this),this.renderBriscCards()),e.pageX>t+1143&&e.pageX<t+1198&&e.pageY>611&&e.pageY<726&&7===this.possibleBriscs.BASTONI&&(this.possibleBriscs.BASTONI=0,this.game.callBrisc(\"BASTONI\",this),this.renderBriscCards()),e.pageX>t+513&&e.pageX<t+594&&e.pageY>585&&e.pageY<729&&this.currentHand.length>0?(this.renderThrow(0),this.removeEventListeners(),setTimeout((function(){return r.game.nextThrow()}),0),this.throwCard(0)):e.pageX>t+603&&e.pageX<t+684&&e.pageY>585&&e.pageY<729&&this.currentHand.length>1?(this.renderThrow(1),this.removeEventListeners(),setTimeout((function(){return r.game.nextThrow()}),0),this.throwCard(1)):e.pageX>t+693&&e.pageX<t+774&&e.pageY>585&&e.pageY<729&&this.currentHand.length>2?(this.renderThrow(2),this.removeEventListeners(),setTimeout((function(){return r.game.nextThrow()}),0),this.throwCard(2)):e.pageX>t+783&&e.pageX<t+864&&e.pageY>585&&e.pageY<729&&this.currentHand.length>3?(this.renderThrow(3),this.removeEventListeners(),setTimeout((function(){return r.game.nextThrow()}),0),this.throwCard(3)):e.pageX>t+873&&e.pageX<t+954&&e.pageY>585&&e.pageY<729&&this.currentHand.length>4?(this.renderThrow(4),this.removeEventListeners(),setTimeout((function(){return r.game.nextThrow()}),0),this.throwCard(4)):void 0}},{key:\"registerEventListeners\",value:function(){document.addEventListener(\"mousedown\",this.handleMouseDown)}},{key:\"removeEventListeners\",value:function(){document.removeEventListener(\"mousedown\",this.handleMouseDown)}},{key:\"promptMove\",value:function(){this.briscAvailable(),this.registerEventListeners()}}])&&a(r.prototype,t),s&&a(r,s),e}();function c(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var o=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.cardsInDeck=[{suit:\"DENARI\",points:0,rank:1,faceUp:!1,owner:null,imageUrl:\"src/public/images/2Gold.png\"},{suit:\"DENARI\",points:0,rank:2,faceUp:!1,owner:null,imageUrl:\"src/public/images/4Gold.png\"},{suit:\"DENARI\",points:0,rank:3,faceUp:!1,owner:null,imageUrl:\"src/public/images/5Gold.png\"},{suit:\"DENARI\",points:0,rank:4,faceUp:!1,owner:null,imageUrl:\"src/public/images/6Gold.png\"},{suit:\"DENARI\",points:0,rank:5,faceUp:!1,owner:null,imageUrl:\"src/public/images/7Gold.png\"},{suit:\"DENARI\",points:2,rank:6,faceUp:!1,owner:null,imageUrl:\"src/public/images/JGold.png\"},{suit:\"DENARI\",points:3,rank:7,faceUp:!1,owner:null,imageUrl:\"src/public/images/QGold.png\"},{suit:\"DENARI\",points:4,rank:8,faceUp:!1,owner:null,imageUrl:\"src/public/images/KGold.png\"},{suit:\"DENARI\",points:10,rank:9,faceUp:!1,owner:null,imageUrl:\"src/public/images/3Gold.png\"},{suit:\"DENARI\",points:11,rank:10,faceUp:!1,owner:null,imageUrl:\"src/public/images/AGold.png\"},{suit:\"SPADE\",points:0,rank:1,faceUp:!1,owner:null,imageUrl:\"src/public/images/2Swords.png\"},{suit:\"SPADE\",points:0,rank:2,faceUp:!1,owner:null,imageUrl:\"src/public/images/4Swords.png\"},{suit:\"SPADE\",points:0,rank:3,faceUp:!1,owner:null,imageUrl:\"src/public/images/5Swords.png\"},{suit:\"SPADE\",points:0,rank:4,faceUp:!1,owner:null,imageUrl:\"src/public/images/6Swords.png\"},{suit:\"SPADE\",points:0,rank:5,faceUp:!1,owner:null,imageUrl:\"src/public/images/7Swords.png\"},{suit:\"SPADE\",points:2,rank:6,faceUp:!1,owner:null,imageUrl:\"src/public/images/JSwords.png\"},{suit:\"SPADE\",points:3,rank:7,faceUp:!1,owner:null,imageUrl:\"src/public/images/QSwords.png\"},{suit:\"SPADE\",points:4,rank:8,faceUp:!1,owner:null,imageUrl:\"src/public/images/KSwords.png\"},{suit:\"SPADE\",points:10,rank:9,faceUp:!1,owner:null,imageUrl:\"src/public/images/3Swords.png\"},{suit:\"SPADE\",points:11,rank:10,faceUp:!1,owner:null,imageUrl:\"src/public/images/ASwords.png\"},{suit:\"COPPE\",points:0,rank:1,faceUp:!1,owner:null,imageUrl:\"src/public/images/2Cups.png\"},{suit:\"COPPE\",points:0,rank:2,faceUp:!1,owner:null,imageUrl:\"src/public/images/4Cups.png\"},{suit:\"COPPE\",points:0,rank:3,faceUp:!1,owner:null,imageUrl:\"src/public/images/5Cups.png\"},{suit:\"COPPE\",points:0,rank:4,faceUp:!1,owner:null,imageUrl:\"src/public/images/6Cups.png\"},{suit:\"COPPE\",points:0,rank:5,faceUp:!1,owner:null,imageUrl:\"src/public/images/7Cups.png\"},{suit:\"COPPE\",points:2,rank:6,faceUp:!1,owner:null,imageUrl:\"src/public/images/JCups.png\"},{suit:\"COPPE\",points:3,rank:7,faceUp:!1,owner:null,imageUrl:\"src/public/images/QCups.png\"},{suit:\"COPPE\",points:4,rank:8,faceUp:!1,owner:null,imageUrl:\"src/public/images/KCups.png\"},{suit:\"COPPE\",points:10,rank:9,faceUp:!1,owner:null,imageUrl:\"src/public/images/3Cups.png\"},{suit:\"COPPE\",points:11,rank:10,faceUp:!1,owner:null,imageUrl:\"src/public/images/ACups.png\"},{suit:\"BASTONI\",points:0,rank:1,faceUp:!1,owner:null,imageUrl:\"src/public/images/2Bats.png\"},{suit:\"BASTONI\",points:0,rank:2,faceUp:!1,owner:null,imageUrl:\"src/public/images/4Bats.png\"},{suit:\"BASTONI\",points:0,rank:3,faceUp:!1,owner:null,imageUrl:\"src/public/images/5Bats.png\"},{suit:\"BASTONI\",points:0,rank:4,faceUp:!1,owner:null,imageUrl:\"src/public/images/6Bats.png\"},{suit:\"BASTONI\",points:0,rank:5,faceUp:!1,owner:null,imageUrl:\"src/public/images/7Bats.png\"},{suit:\"BASTONI\",points:2,rank:6,faceUp:!1,owner:null,imageUrl:\"src/public/images/JBats.png\"},{suit:\"BASTONI\",points:3,rank:7,faceUp:!1,owner:null,imageUrl:\"src/public/images/QBats.png\"},{suit:\"BASTONI\",points:4,rank:8,faceUp:!1,owner:null,imageUrl:\"src/public/images/KBats.png\"},{suit:\"BASTONI\",points:10,rank:9,faceUp:!1,owner:null,imageUrl:\"src/public/images/3Bats.png\"},{suit:\"BASTONI\",points:11,rank:10,faceUp:!1,owner:null,imageUrl:\"src/public/images/ABats.png\"}],this.showCard=this.showCard.bind(this),this.shuffleDeck=this.shuffleDeck.bind(this)}var r,t,s;return r=e,(t=[{key:\"showCard\",value:function(e){e.faceUp=!0}},{key:\"shuffleDeck\",value:function(){this.cardsInDeck.forEach((function(e){e.faceUp=!1,e.owner=null}));for(var e=0;e<1992;e++){var r=Math.floor(Math.random()*this.cardsInDeck.length),t=Math.floor(Math.random()*this.cardsInDeck.length),s=this.cardsInDeck[r];this.cardsInDeck[r]=this.cardsInDeck[t],this.cardsInDeck[t]=s}}}])&&c(r.prototype,t),s&&c(r,s),e}();function l(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var u=function(){function e(r){!function(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.currentRoundScore=0,this.totalGameScore=0,this.name=r,this.addTotalScore=this.addTotalScore.bind(this)}var r,t,s;return r=e,(t=[{key:\"addTotalScore\",value:function(){this.totalGameScore+=this.currentRoundScore,this.currentRoundScore=0}}])&&l(r.prototype,t),s&&l(r,s),e}();function h(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var d=function(){function e(r){!function(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.currentBrisc=[],this.currentDeck=new o,this.startOfEntireRound=0,this.startOfThisHand=0,this.thrownCards=[],this.lastHand={},this.ctx=r.getContext(\"2d\"),this.humanTeam=new u(\"humanTeam\"),this.robotTeam=new u(\"robotTeam\"),this.PLAYERS=[new n(this.humanTeam,r,this),new i(this.robotTeam,1,r,this),new i(this.humanTeam,2,r,this),new i(this.robotTeam,3,r,this)],this.drawInitialBoard=this.drawInitialBoard.bind(this),this._dealCards=this._dealCards.bind(this),this.callBrisc=this.callBrisc.bind(this),this.addCardsValue=this.addCardsValue.bind(this),this.finalTally=this.finalTally.bind(this),this.winningCardThrown=this.winningCardThrown.bind(this),this.hasAnybodyWon=this.hasAnybodyWon.bind(this),this.eachPlayerDraws=this.eachPlayerDraws.bind(this),this.nextThrow=this.nextThrow.bind(this),this.populateLastHand=this.populateLastHand.bind(this),this.restartGame=this.restartGame.bind(this)}var r,t,s;return r=e,(t=[{key:\"drawInitialBoard\",value:function(){var e=this,r=new Image,t=new Image;r.src=\"src/public/images/card-back-rename.JPG\",t.src=\"src/public/images/no-card.png\";var s=this.PLAYERS[0].currentHand,i=new Image,a=new Image,n=new Image,c=new Image,o=new Image,l=new Image,u=new Image,h=new Image,d=new Image,g=new Image,p=new Image,m=new Image,f=new Image,w=new Image;void 0===this.lastHand[0]?(p.src=\"src/public/images/no-card.png\",m.src=\"src/public/images/no-card.png\",f.src=\"src/public/images/no-card.png\",w.src=\"src/public/images/no-card.png\"):(p.src=this.lastHand[0].imageUrl,m.src=this.lastHand[1].imageUrl,f.src=this.lastHand[2].imageUrl,w.src=this.lastHand[3].imageUrl),s.length>0?(i.src=s[0].imageUrl,l.src=\"src/public/images/card-back-rename.JPG\"):(i.src=\"src/public/images/no-card.png\",l.src=\"src/public/images/no-card.png\"),s.length>1?(a.src=s[1].imageUrl,u.src=\"src/public/images/card-back-rename.JPG\"):(a.src=\"src/public/images/no-card.png\",u.src=\"src/public/images/no-card.png\"),s.length>2?(n.src=s[2].imageUrl,h.src=\"src/public/images/card-back-rename.JPG\"):(n.src=\"src/public/images/no-card.png\",h.src=\"src/public/images/no-card.png\"),s.length>3?(c.src=s[3].imageUrl,d.src=\"src/public/images/card-back-rename.JPG\"):(c.src=\"src/public/images/no-card.png\",d.src=\"src/public/images/no-card.png\"),s.length>4?(o.src=s[4].imageUrl,g.src=\"src/public/images/card-back-rename.JPG\"):(o.src=\"src/public/images/no-card.png\",g.src=\"src/public/images/no-card.png\"),setTimeout((function(){e.ctx.save(),e.ctx.rotate(Math.PI/180*-90),e.ctx.drawImage(l,-160,902,55,98),e.ctx.drawImage(u,-230,902,55,98),e.ctx.drawImage(h,-300,902,55,98),e.ctx.drawImage(d,-370,902,55,98),e.ctx.drawImage(g,-440,902,55,98),e.ctx.drawImage(t,-314,700,81,144),0!==e.currentDeck.cardsInDeck.length?e.ctx.drawImage(r,-320,474,55,98):e.ctx.drawImage(t,-320,474,55,98),e.ctx.restore(),e.ctx.save(),e.ctx.rotate(Math.PI/180*90),e.ctx.drawImage(l,105,-98,55,98),e.ctx.drawImage(u,175,-98,55,98),e.ctx.drawImage(h,245,-98,55,98),e.ctx.drawImage(d,315,-98,55,98),e.ctx.drawImage(g,385,-98,55,98),e.ctx.drawImage(t,231,-300,81,144),e.ctx.restore(),e.ctx.save(),e.ctx.rotate(Math.PI/180*180),e.ctx.drawImage(l,-410,-98,55,98),e.ctx.drawImage(u,-480,-98,55,98),e.ctx.drawImage(h,-550,-98,55,98),e.ctx.drawImage(d,-620,-98,55,98),e.ctx.drawImage(g,-690,-98,55,98),e.ctx.drawImage(t,-564,-250,81,144),e.ctx.restore(),e.currentDeck.cardsInDeck.length>0&&(e.ctx.font=\"36px Georgia\",e.ctx.fillStyle=\"red\",e.ctx.fillText(e.currentDeck.cardsInDeck.length,506,300)),e.ctx.drawImage(t,0,0,350,90),e.ctx.drawImage(t,705,0,350,90),e.ctx.font=\"24px Georgia\",e.ctx.fillStyle=\"red\",e.ctx.fillText(\"Total Game Score (first to 500)\",15,20),e.ctx.fillText(\"Current Round Score\",740,20),e.ctx.font=\"16px Georgia\",e.ctx.fillStyle=\"red\",e.ctx.fillText(\"Your Team                            Other Team\",50,35),e.ctx.fillText(\"Your Team                            Other Team\",715,35),e.ctx.font=\"24px Georgia\",e.ctx.fillStyle=\"whitesmoke\",e.ctx.fillText(e.humanTeam.totalGameScore,75,60),e.ctx.fillText(e.robotTeam.totalGameScore,265,60),e.ctx.fillText(e.humanTeam.currentRoundScore,745,60),e.ctx.fillText(e.robotTeam.currentRoundScore,940,60),e.ctx.drawImage(i,300,505,81,144),e.ctx.drawImage(a,390,505,81,144),e.ctx.drawImage(n,480,505,81,144),e.ctx.drawImage(c,570,505,81,144),e.ctx.drawImage(o,660,505,81,144),e.ctx.drawImage(p,155,480,40,72),e.ctx.drawImage(m,205,530,40,72),e.ctx.drawImage(f,155,580,40,72),e.ctx.drawImage(w,105,530,40,72),e.ctx.drawImage(t,480,345,81,144)}),350)}},{key:\"_dealCards\",value:function(){var e=this;if(0===this.PLAYERS[0].currentHand.length){var r=new Image;r.src=\"src/public/images/no-card.png\",setTimeout((function(){e.ctx.drawImage(r,195,400,100,125)}),200);for(var t=0;t<5;t++)this.PLAYERS.forEach((function(r){var t=e.currentDeck.cardsInDeck.pop();r.addCard(t)}))}}},{key:\"callBrisc\",value:function(e,r){var t=this;if(0===this.currentBrisc.length){this.currentBrisc.push(e),r.team.currentRoundScore+=40,1===r.id?alert(\"THE OPPONENT ON THE RIGHT CALLED A BRISC AND THE CURRENT BRISC IS \".concat(e,\" (+40 points for them!)\")):3===r.id?alert(\"THE OPPONENT ON THE LEFT CALLED A BRISC AND THE CURRENT BRISC IS \".concat(e,\" (+40 points for them!)\")):2===r.id&&alert(\"YOUR PARTNER CALLED A BRISC AND THE CURRENT BRISC IS \".concat(e,\" (+40 points for you!)\"));var s=new Image,i=new Image;i.src=\"src/public/images/no-card.png\",s.src=\"DENARI\"===e?\"src/public/images/AGold.png\":\"SPADE\"===e?\"src/public/images/ASwords.png\":\"COPPE\"===e?\"src/public/images/ACups.png\":\"BASTONI\"===e?\"src/public/images/ABats.png\":\"src/public/images/no-card.png\",setTimeout((function(){t.ctx.font=\"16px Georgia\",t.ctx.fillStyle=\"red\",t.ctx.fillText(\"Current Brisc:\",195,420),t.ctx.drawImage(s,220,435,45,80),t.ctx.drawImage(i,700,0,350,90),t.ctx.font=\"24px Georgia\",t.ctx.fillStyle=\"red\",t.ctx.fillText(\"Current Round Score\",740,20),t.ctx.font=\"16px Georgia\",t.ctx.fillStyle=\"red\",t.ctx.fillText(\"Your Team                            Other Team\",50,35),t.ctx.fillText(\"Your Team                            Other Team\",715,35),t.ctx.font=\"24px Georgia\",t.ctx.fillStyle=\"whitesmoke\",t.ctx.fillText(t.humanTeam.currentRoundScore,745,60),t.ctx.fillText(t.robotTeam.currentRoundScore,940,60)}),200)}else-1===this.currentBrisc.indexOf(e)&&(1===r.id?alert(\"THE OPPONENT ON THE RIGHT CALLED A BRISC OF \".concat(e,\" (+20 points for them!). THE CURRENT BRISC IS STILL \").concat(this.currentBrisc[0])):3===r.id?alert(\"THE OPPONENT ON THE LEFT CALLED A BRISC OF \".concat(e,\" (+20 points for them!). THE CURRENT BRISC IS STILL \").concat(this.currentBrisc[0])):2===r.id&&alert(\"YOUR PARTNER CALLED A BRISC OF \".concat(e,\" (+20 points for you!). THE CURRENT BRISC IS STILL \").concat(this.currentBrisc[0])),this.currentBrisc.push(e),r.team.currentRoundScore+=20)}},{key:\"addCardsValue\",value:function(e,r){var t=0;r.forEach((function(e){t+=e.points})),e.currentRoundScore+=t}},{key:\"finalTally\",value:function(){this.humanTeam.addTotalScore(),this.robotTeam.addTotalScore()}},{key:\"winningCardThrown\",value:function(){var e=this;if(void 0!==this)if(4===this.thrownCards.length){for(var r=this.thrownCards[0],t=this.thrownCards[0].suit,s=1;s<4;s++){var i=this.thrownCards[s];i.rank>r.rank&&i.suit===t&&(r=i)}if(0!==this.currentBrisc.length){t=this.currentBrisc[0];for(var a=0;a<4;a++){var n=this.thrownCards[a];(n.suit===t&&r.suit!==t||n.rank>r.rank&&n.suit===t&&r.suit===t)&&(r=n)}}\"humanTeam\"==new String(r.owner.team.name)?this.addCardsValue(this.humanTeam,this.thrownCards):this.addCardsValue(this.robotTeam,this.thrownCards),this.populateLastHand(),this.startOfThisHand=this.PLAYERS.indexOf(r.owner),this.thrownCards=[],0!==this.currentDeck.cardsInDeck.length&&this.eachPlayerDraws(this.startOfThisHand),0!==this.PLAYERS[0].currentHand.length?this.playTurn():setTimeout((function(){return e.restartGame()}),2500),this.drawInitialBoard()}else console.log(\"NOT YET!!!\")}},{key:\"restartGame\",value:function(){this.finalTally(),this.hasAnybodyWon()?console.log(\"gamover\"):(this.startOfEntireRound++,this.startOfThisHand=this.startOfEntireRound,this.currentBrisc=[],this.currentDeck=new o,this.thrownCards=[],this.lastHand={},this.currentDeck.shuffleDeck(),this._dealCards(),this.playTurn(),this.drawInitialBoard())}},{key:\"populateLastHand\",value:function(){for(var e=0;e<4;e++){var r=this.thrownCards[e];this.lastHand[r.owner.id]=r}}},{key:\"nextThrow\",value:function(){var e=this.PLAYERS[(this.startOfThisHand+1)%this.PLAYERS.length],r=this.PLAYERS[(this.startOfThisHand+2)%this.PLAYERS.length],t=this.PLAYERS[(this.startOfThisHand+3)%this.PLAYERS.length];1===this.thrownCards.length&&setTimeout((function(){return e.promptMove()}),1e3),2===this.thrownCards.length&&setTimeout((function(){return r.promptMove()}),1e3),3===this.thrownCards.length&&setTimeout((function(){return t.promptMove()}),1e3)}},{key:\"playTurn\",value:function(){this.PLAYERS[0].briscAvailable(),this.PLAYERS[0].renderBriscCards(),this.PLAYERS[(this.startOfThisHand+0)%this.PLAYERS.length].promptMove()}},{key:\"eachPlayerDraws\",value:function(e){var r=this.PLAYERS[(e+0)%4],t=this.PLAYERS[(e+1)%4],s=this.PLAYERS[(e+2)%4],i=this.PLAYERS[(e+3)%4];r.addCard(this.currentDeck.cardsInDeck.pop()),t.addCard(this.currentDeck.cardsInDeck.pop()),s.addCard(this.currentDeck.cardsInDeck.pop()),i.addCard(this.currentDeck.cardsInDeck.pop())}},{key:\"hasAnybodyWon\",value:function(){if(this.humanTeam.totalGameScore>=500||this.robotTeam.totalGameScore>=500){var e=document.querySelector(\".game-over\"),r=document.querySelector(\".my-score\"),t=document.querySelector(\".their-score\");return r.value=this.humanTeam.totalGameScore,t.value=this.robotTeam.totalGameScore,e.style.display=\"block\",!0}return!1}}])&&h(r.prototype,t),s&&h(r,s),e}();document.addEventListener(\"DOMContentLoaded\",(function(){var e,r,t=document.getElementById(\"canvas-game\"),s=new d(t);r=0,(e=s).currentDeck.shuffleDeck(),e._dealCards(),setTimeout((function(){return e.drawInitialBoard()}),250),e.startOfEntireRound=r,e.startOfThisHand=r,s.playTurn();var i=document.getElementById(\"rules-button\"),a=document.querySelector(\".modal\"),n=document.querySelector(\".close-btn\");i.onclick=function(){a.style.display=\"block\"},n.onclick=function(){a.style.display=\"none\"},window.onclick=function(e){e.target==a&&(a.style.display=\"none\")}}))}]);","extractedComments":[]}